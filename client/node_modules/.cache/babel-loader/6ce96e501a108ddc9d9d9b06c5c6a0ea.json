{"ast":null,"code":"import _slicedToArray from \"/Users/moshedeitsch/Desktop/stuff/react/react-mikud/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nconst DarkModeContext = React.createContext();\n\nconst _React$useState = React.useState(getInitialMode()),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      darkMode = _React$useState2[0],\n      setDarkMode = _React$useState2[1];\n\nReact.useEffect(() => {\n  localStorage.setItem('dark', JSON.stringify(darkMode));\n}, [darkMode]);\n\nfunction getInitialMode() {\n  const isReturningUser = \"dark\" in localStorage;\n  const savedMode = JSON.parse(localStorage.getItem(\"dark\"));\n  const userPrefersDark = getPrefColorScheme(); // if mode was saved --> dark / light\n\n  if (isReturningUser) {\n    return savedMode; // if preferred color scheme is dark --> dark\n  } else if (userPrefersDark) {\n    return true; // otherwise --> light\n  } else {\n    return false;\n  } // return savedMode || false;\n\n}\n\nfunction getPrefColorScheme() {\n  if (!window.matchMedia) return;\n  return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\n\nexport const DarkModeProvider = DarkModeContext.Provider;\nexport const DarkModeConsumer = DarkModeContext.Consumer;\nexport default DarkModeContext;","map":{"version":3,"sources":["/Users/moshedeitsch/Desktop/stuff/react/react-mikud/src/context/DarkModeContext.js"],"names":["React","DarkModeContext","createContext","useState","getInitialMode","darkMode","setDarkMode","useEffect","localStorage","setItem","JSON","stringify","isReturningUser","savedMode","parse","getItem","userPrefersDark","getPrefColorScheme","window","matchMedia","matches","DarkModeProvider","Provider","DarkModeConsumer","Consumer"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,MAAMC,eAAe,GAAGD,KAAK,CAACE,aAAN,EAAxB;;wBAEgCF,KAAK,CAACG,QAAN,CAAeC,cAAc,EAA7B,C;;MAAzBC,Q;MAAUC,W;;AAGjBN,KAAK,CAACO,SAAN,CAAgB,MAAM;AAClBC,EAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAf,CAA7B;AACH,CAFD,EAEG,CAACA,QAAD,CAFH;;AAIA,SAASD,cAAT,GAA0B;AACtB,QAAMQ,eAAe,GAAG,UAAUJ,YAAlC;AACA,QAAMK,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAlB;AACA,QAAMC,eAAe,GAAGC,kBAAkB,EAA1C,CAHsB,CAItB;;AACA,MAAIL,eAAJ,EAAqB;AACjB,WAAOC,SAAP,CADiB,CAEjB;AACH,GAHD,MAGO,IAAIG,eAAJ,EAAqB;AACxB,WAAO,IAAP,CADwB,CAExB;AACH,GAHM,MAGA;AACH,WAAO,KAAP;AACH,GAbqB,CActB;;AACH;;AAGD,SAASC,kBAAT,GAA8B;AAC1B,MAAI,CAACC,MAAM,CAACC,UAAZ,EAAwB;AAExB,SAAOD,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAAzD;AACH;;AAKD,OAAO,MAAMC,gBAAgB,GAAGpB,eAAe,CAACqB,QAAzC;AACP,OAAO,MAAMC,gBAAgB,GAAGtB,eAAe,CAACuB,QAAzC;AAIP,eAAevB,eAAf","sourcesContent":["import React from 'react'\n\n\n\nconst DarkModeContext = React.createContext()\n\nconst [darkMode, setDarkMode] = React.useState(getInitialMode())\n\n\nReact.useEffect(() => {\n    localStorage.setItem('dark', JSON.stringify(darkMode))\n}, [darkMode])\n\nfunction getInitialMode() {\n    const isReturningUser = \"dark\" in localStorage;\n    const savedMode = JSON.parse(localStorage.getItem(\"dark\"));\n    const userPrefersDark = getPrefColorScheme();\n    // if mode was saved --> dark / light\n    if (isReturningUser) {\n        return savedMode;\n        // if preferred color scheme is dark --> dark\n    } else if (userPrefersDark) {\n        return true;\n        // otherwise --> light\n    } else {\n        return false;\n    }\n    // return savedMode || false;\n}\n\n\nfunction getPrefColorScheme() {\n    if (!window.matchMedia) return;\n\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\n\n\n\n\nexport const DarkModeProvider = DarkModeContext.Provider\nexport const DarkModeConsumer = DarkModeContext.Consumer\n\n\n\nexport default DarkModeContext"]},"metadata":{},"sourceType":"module"}