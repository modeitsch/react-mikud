{"ast":null,"code":"import _slicedToArray from \"/Users/moshedeitsch/Desktop/stuff/react/react-mikud/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/moshedeitsch/Desktop/stuff/react/react-mikud/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './index.css';\n\nconst App = () => {\n  const _useState = useState(getInitialMode()),\n        _useState2 = _slicedToArray(_useState, 2),\n        darkMode = _useState2[0],\n        setDarkMode = _useState2[1];\n\n  useEffect(() => {\n    localStorage.setItem('dark', JSON.stringify(darkMode));\n  }, [darkMode]);\n\n  function getInitialMode() {\n    const isReturningUser = \"dark\" in localStorage;\n    const savedMode = JSON.parse(localStorage.getItem(\"dark\"));\n    const userPrefersDark = getPrefColorScheme(); // if mode was saved --> dark / light\n\n    if (isReturningUser) {\n      return savedMode; // if preferred color scheme is dark --> dark\n    } else if (userPrefersDark) {\n      return true; // otherwise --> light\n    } else {\n      return false;\n    } // return savedMode || false;\n\n  }\n\n  function getPrefColorScheme() {\n    if (!window.matchMedia) return;\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n  }\n\n  return React.createElement(\"div\", {\n    className: darkMode ? \"dark-mode\" : \"light-mode\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"toggle-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    style: {\n      color: darkMode ? \"grey\" : \"yellow\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"\\u2600\\uFE0E\"), React.createElement(\"span\", {\n    className: \"toggle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    checked: darkMode,\n    onChange: () => setDarkMode(prevMode => !prevMode),\n    id: \"checkbox\",\n    className: \"checkbox\",\n    type: \"checkbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"checkbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    style: {\n      color: darkMode ? \"slateblue\" : \"grey\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"\\u263E\"))));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/moshedeitsch/Desktop/stuff/react/react-mikud/src/App.js"],"names":["React","useState","useEffect","App","getInitialMode","darkMode","setDarkMode","localStorage","setItem","JSON","stringify","isReturningUser","savedMode","parse","getItem","userPrefersDark","getPrefColorScheme","window","matchMedia","matches","color","prevMode"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,QAA0C,OAA1C;AACA,OAAO,aAAP;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA,oBAEgBF,QAAQ,CAACG,cAAc,EAAf,CAFxB;AAAA;AAAA,QAETC,QAFS;AAAA,QAECC,WAFD;;AAKhBJ,EAAAA,SAAS,CAAC,MAAM;AACdK,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAf,CAA7B;AACD,GAFQ,EAEP,CAACA,QAAD,CAFO,CAAT;;AAIA,WAASD,cAAT,GAA0B;AACxB,UAAMO,eAAe,GAAG,UAAUJ,YAAlC;AACA,UAAMK,SAAS,GAAGH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAlB;AACA,UAAMC,eAAe,GAAGC,kBAAkB,EAA1C,CAHwB,CAIxB;;AACA,QAAIL,eAAJ,EAAqB;AACnB,aAAOC,SAAP,CADmB,CAEnB;AACD,KAHD,MAGO,IAAIG,eAAJ,EAAqB;AAC1B,aAAO,IAAP,CAD0B,CAE1B;AACD,KAHM,MAGA;AACL,aAAO,KAAP;AACD,KAbuB,CAcxB;;AACD;;AAGD,WAASC,kBAAT,GAA8B;AAC5B,QAAI,CAACC,MAAM,CAACC,UAAZ,EAAwB;AAExB,WAAOD,MAAM,CAACC,UAAP,CAAkB,8BAAlB,EAAkDC,OAAzD;AACD;;AAGD,SACE;AAAK,IAAA,SAAS,EAAEd,QAAQ,GAAG,WAAH,GAAiB,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAM,IAAA,KAAK,EAAE;AAAEe,MAAAA,KAAK,EAAEf,QAAQ,GAAG,MAAH,GAAY;AAA7B,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEE;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,OAAO,EAAEA,QADX;AAEE,IAAA,QAAQ,EAAE,MAAMC,WAAW,CAACe,QAAQ,IAAI,CAACA,QAAd,CAF7B;AAGE,IAAA,EAAE,EAAC,UAHL;AAIE,IAAA,SAAS,EAAC,UAJZ;AAKE,IAAA,IAAI,EAAC,UALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CAFF,EAYE;AAAM,IAAA,KAAK,EAAE;AAAED,MAAAA,KAAK,EAAEf,QAAQ,GAAG,WAAH,GAAiB;AAAlC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF,CADF,CADA,CADF;AAuBD,CAzDD;;AA2DA,eAAeF,GAAf","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport './index.css'\n\nconst App = () => {\n\n  const [darkMode, setDarkMode] = useState(getInitialMode())\n  \n\n  useEffect(() => {\n    localStorage.setItem('dark', JSON.stringify(darkMode))\n  },[darkMode])\n\n  function getInitialMode() {\n    const isReturningUser = \"dark\" in localStorage;\n    const savedMode = JSON.parse(localStorage.getItem(\"dark\"));\n    const userPrefersDark = getPrefColorScheme();\n    // if mode was saved --> dark / light\n    if (isReturningUser) {\n      return savedMode;\n      // if preferred color scheme is dark --> dark\n    } else if (userPrefersDark) {\n      return true;\n      // otherwise --> light\n    } else {\n      return false;\n    }\n    // return savedMode || false;\n  }\n\n\n  function getPrefColorScheme() {\n    if (!window.matchMedia) return;\n\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n  }\n\n\n  return (\n    <div className={darkMode ? \"dark-mode\" : \"light-mode\"}>\n    <nav>\n      <div className=\"toggle-container\">\n        <span style={{ color: darkMode ? \"grey\" : \"yellow\" }}>☀︎</span>\n        <span className=\"toggle\">\n          <input\n            checked={darkMode}\n            onChange={() => setDarkMode(prevMode => !prevMode)}\n            id=\"checkbox\"\n            className=\"checkbox\"\n            type=\"checkbox\"\n          />\n          <label htmlFor=\"checkbox\" />\n        </span>\n        <span style={{ color: darkMode ? \"slateblue\" : \"grey\" }}>☾</span>\n        {/* <button onClick={() => setDarkMode(prevMode => !prevMode)}>\n        Toggle\n      </button> */}\n      </div>\n    </nav>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}